TODO: List of items for OpenCV Java GEF Editor

Legend:
    / = complete(checkmark)       . = doing it           , = blocked by external
    ! = urgent a = very high pri  b = important          c = avg/lower pri
    ? = question                  X or x = No/dismissed  = = dupe

compare all java nodes to python effects
    /Users/mbennett/Dropbox/dev/webcam-filters

Optionally have the queues persist to disk
    ? handling of frames, encoded or separate file/dir

data structures: work units between nodes has frame section and "user data" section
different input/output types

custom Python node

Support copy and paste

how many nodes override .paint()?
    can they be refactored?

each node can have its own custom name

.debug log all json files that are read or saved, even for the contents of a container

In a top level save in the editor, the save needs to propogate down the contianer hierarchy to prompt them to save as 
well; save always works from the current window down, same for number of nodes, and soon to be thread counts

enabled/disabled checkbox, upper right? upper left?

thread info

Paramertize ALL numbers damnit!

.Doc: Yes, you can edit while running, we encourage doing so to see the effects of your changes in real time 

.Upper right corner icon in Container rendering in parent diagram, 
    mouse over / tool tip "Edit Container's Sub-diagram"

.opening container window, good initial position and good initial height, but width is too narrow, ideally same dims as parent window IF that would fit on their screen, so clamped

.Container Editor status bar:
    Should show number of running threads, implication is that it's for that diagram down
    Yes, have it shown for that diagram down
    Does Container have its own thread?
        I think yes...
        that would be counted as the parent's total
            the two input/output nodes count towards child
            again, what's countable on screen
    rule: threads are countable number of nodes on that screen, PLUS all nodes downstream in the container hierarchy

gain needs to be 5% to 20x, and slider output needs to now show percent for the ratios < 1




cv2.split()

cv2.remap()

cv2.resize()

cv2.watershed()

cv2.HOGDescriptor() + SVM

cv2.applyColorMap()

cv2.ml.KNearest_create()	Classic kNN
cv2.ml.SVM_create()	SVM classifier
cv2.ml.RTrees_create()	Random forest
cv2.ml.EM_create()	Expectation-Maximization clustering
cv2.ml.KMeans2()	Faster KMeans

cv2.warpPerspective()
    cv2.getPerspectiveTransform()

cv2.floodFill() Region filling from a seed pixel.

cv2.distanceTransform() Shows how far each pixel is from the nearest background → great for skeletonization.

cv2.grabCut() Interactive foreground extraction (used in apps like Photoshop).


cv2.calcOpticalFlowPyrLK()	Track feature points between frames

cv2.KalmanFilter()	Predict motion smoothly

cv2.bgsegm (Background subtractors)	Real-time foreground detection

? cv2.xfeatures2d.SIFT_create()	Still excellent (requires contrib)

cv2.TrackerKCF_create()	Single object tracking

cv2.TrackerCSRT_create()	Accurate tracking of deforming objects

cv2.CascadeClassifier()

cv2.pyrDown() / pyrUp()	Gaussian pyramids → multiscale search

cv2.integral()

cv2.goodFeaturesToTrack

cv2.fastNlMeansDenoising()

cv2.pyrMeanShiftFiltering()

cv2.phase() cv2.magnitude()

M = cv2.getPerspectiveTransform(src, dst)
warped = cv2.warpPerspective(img, M, (500,700))

hog = cv2.HOGDescriptor()
hog.setSVMDetector(cv2.HOGDescriptor_getDefaultPeopleDetector())
boxes, _ = hog.detectMultiScale(img)

Histo:
    cv2.equalizeHist(image)
--
Thresh:
    # extract the Value component from the HSV color space and apply adaptive thresholding
    # to reveal the characters on the license plate
    V = cv2.split(cv2.cvtColor(plate, cv2.COLOR_BGR2HSV))[2]
    thresh = cv2.adaptiveThreshold(V, 255, cv2.ADAPTIVE_THRESH_MEAN_C,
	    cv2.THRESH_BINARY_INV, 17, 3)
--
matchTemplate:
    # find the template in the source image
    result = cv2.matchTemplate(source, template, cv2.TM_CCOEFF)
    (minVal, maxVal, minLoc, (x, y)) = cv2.minMaxLoc(result)


.fft low pass filter
    figure out radius filters and smoothness
    can we plot the curve?
.finish impl of Harris Corners
    .still missing some
    .default color green
    /what does Draw Features mean in the python version?
/rename Shi-Tomasi to ... Corners
.    FINISH ST corners
.finish Scharr
/Laplacian shows Canny Edge properties
/   properties too narrow
.   add more UI elements
.Sobel
    .dx / dy 3 horizontal radio buttons
    Sobel Properties -> Sobel Edge Properties
.Contours
.Blobs
check all sliders that require odd ints
Main class doing LOTS of instanceof, I think in serialization stuff?
check all Java Nodes against all Python Effects

.dual input nodes
    .require both queues fire
    .work on either firing and last state of other
        .if both 30 fps there would be ~60 objects emitted
        .make it a UI checkbox for queues-in-sync default to NO

/Have Container window open.  Now switch to main window, Container window doesn't acknowledge now-running pipeline, still 
shows "Start Pipeline" button (should be "Stop Pipeline", and status bar shows Pipeline Stopped 
/Container node display in parent diagram, not resetting Work to 0 when restarting pipeline
    Main PipelineEditor window: display of Container node: when starting pipeline, Container's In: counter doesn't reset to 0
/Main window status bar: only 2 threads? I have 11 total nodes
/Container window status bar: doens't show status of pipeline, no "Pipeline Running ..."
/get rid of Single Frame button
x c nodes under Basic category in button bar are all sorted alphabetically,
    but Grayscale needs to be an exception to that, it needs to be at the top b/c it's very common
/Container Node display doesn't have In: counter , just In:0
/can't click and delete connection in container editor
/FFT high-pass classic: Properties dialog box too narrow or selector too wide to display double digit slider readout
/Vanishing container node after edit in parent/root Window
    multiple times, but inconsistent
/Container Editor: Inconsistent highlight color of highlighted link
    If click on fully connected connection it turns cyan (which is fine)
    clicking on dangling mode highlights in dark blue (not consistent)
/Highlight color: selected Node outline vs selected connectors
    make the highlight color of the connection the same color blue as the highlight around a selected node
    check for connected nodes vs danglers vs free/orphan connections
/Container Editor: disconnect tail end of arrow that ran between other node output and INput 2 of Addw/Clamp, when you yank the head of the arrow from In1 and try to connect it to In2, it snaps back to in1
/since there's no status
  bar (why not?) there's no way to zoom in or out 
/Container editor, double click on node, sometimes brings main root window into focus above container editor window
/Dual input node, disconnecting from the out plug of node that leads to input 2, dangling connection arrow end jumps back to input 1
    dropping on input2 hops to in1
/container editor, can't click input of node and drag to output of other node
    it should be smart and just reverse the arrow
/?Container edit window save dialog, can't select previously used json files like container1.json, grayed out
    file dialog box has dropdwon of *.json
    yes, they are just grayed out
x?.buttons in container editor window not in the correct order
    buttons in toolbar still in wrong order, ex: Grayscale, in Container editor window
/preview window not working in container editor, even if pipeline is running
/can't click and drag from container output node to yank that end of the connection
/Just clicking on the middle of a connection makes it vanish in Container editor
/Problems with click to unhook to special output node; see the blue line, but
    when I let go it jumps back to the connection point.
/On the other end from the output of Grayscale, clicking on that connection point does nothing,
    as if I never clicked. 
/In container editor with Clone output,
    /cannot click to yank an existing connection 
    /Instead of disconnecting a connection, now the connection vanishes 
/Sub-window container window button bar, no find fuction.
    How can this happen if we're using the same code?
/Special Container Input and Output nodes have the type expected on the next line "Image", should be on the same line as "Input" or "Output"
    and then the priority and work count, doesn't have either
/Container edit window: Container: Container 1
/Ability to move Container Nodes Input and Output nodes around, esp when making big diagram
/The special container input and output nodes are not tall enough to display their thumbnail
/the resize of preview window area in the main root editor is no longer resizeable with the vertical line
    between Output Preview and the main grid area 
/..Container in main root window not showing its work output counter incrementing
/Add w/Clamp no In1: In2: counts, no pri and work counts
/!..double click on node in subwindow, brings main window into focus
/Container Editor: No mouse-over tool tips on connections
/Container editor: special Input node, doesn't have In: counter
/Suddenly none of the nodes in the Container editor are showing their thumbnails,
    this was working, not when loaded, and not when pipeline is running
    Thumbnails not preserved on save/restart/load
    Thumbnails not shown immediately when pipeline starts, have to click some nodes to get thumbnails to show
/Container editor should also have Run Pipeline / Stop Pipeline button, green and red, etc.  Everybody should be able to stop the pipeline w/o needing to go to the main window, status will need to be reflected in all windows
/Gain Control properties too narrow, readout label moves to the next row/line
/Container: priority low-priority back pressure not working
/zoom in needs to stay at the center of what you were looking at
    same for zoom out
/Container editor special Input and Output nodes need to be wider due to the 3 holes/dots
    Input node either not displaying In: or it's overlaid by the 3 dots
    also not tall enough for thumbnail
/What happens when Container diagram is changed, but main diagram is not dirty, does it pause to let you save the Container?
/!Can't select nodes by clicking and dragging in Container Editor window
/connector has no arrow head
/click and drag on the selected group cancels the group selection and just highlights that node.
    Need to see if it's click and DRAG before reselecting a node that was already in the selection grouip.
/Arrow keys shouuld be able to move a selected set of nodes, 1 pixel at a time regardless of zoom level
/click and drag on connection point on node in Container editor moves the node instead of yanking the connection 
/Special Input and Output nodes still not wide enough
/Special Input node in Container editor has bigger thumbnail than all other nodes, including special Output node
    Input node should probably use same size as everybody else
    odd that it's just the input node
    OR MAYBE Inpuut node is correct size, and all other nodes are accidnetly a bit smaller getting resized (look a bit chunky)
/Add w/Clamp not showing In1: In2: counts, and not incrementing its Work counter
    can we check if it's not inheriting from its base classes and just doing an old outdated .paint()
/When I click the upper left red x in a mac window, the windows all close, but I think if the pipeline is running therre's still threads in the
  background.  CAn you intercept the window close even, before exitign the app, to cleanly shut down the threads? 
/When a node's output queue is falling behind, and it's already lowered its priority to 1, let's have it send a "slow down" signal to the node behind it 
/Double click should bring up Container editor; right click to get Properties
/   /right click should also have Edit Container Contents
/Cursor keys should move Node just 1 pixel when at 100% mode, and equiv of 1 pixel when zoomed in or out,
/   so when zoomed out would be hard to see just 1 push of arrow key direction
/Queue stats not showing on connections inside Container Editor 
/When the q's backlog hits 5 or above the background color should shift from blue to dark red 
/c arrow heads need to be bigger
/Container Node Properties Name in the root diagram doesn't retain value on OK (at least not displayed) and doesn't set the dirty bit for name change
/Container with clone node, can't click and drag from bottom node
/Clone (2) -> Clone (2 outputs)
/?grid lines shrink/expand with zoom level
/Left toolbar/button bar still not the same size, can't we just render the button box how we do in the main window.
/Container editor lost the Bezier curve connections. 
/lots of "hard coding" in the registry
/?grid pattern doesn't change on zoom
    maybe just the dots where they intersect?
/change package name
/fft filter first have 2 outputs
    /also clone node
/restaring pipeline doesn't clear previous queue count stats
/Node Properties dialog:
    /Enter to click the OK button to save and close and save
    /Esc to cancel and close the dialog and not save
    /If only 1 OK button, than Esc clicks OK
/need bitwise NOT
    doc: same effect as Invert, but diff math, just mention in README
/accuracy of mouse on connection points when zoomed way out
/Histogram node
/maybe not clamp values that are externally edited in JSON
    /"no external clamp"
/button bar green area slightly wider, maybe buttons need more E W padding 
/Unknown node type: Mean Shift Blur
/Unknown node type: Grayscale/Color Convert
/double click on node buttons should only give one
/rename: node title: Mean Shift Blur
/rename: node title: Node Color Convert -> Grayscale/Color Convert
/Box Blur
    /too narrow for 2 or 3 digit readout at end of slider
    /slider lets you pick even ints
    /"unknown: Box Blur"
/Inputs: -> Sources:
/recatogorize Draw: to Content:
/zoom % truncated
/rename: node: Bilateral Filter -> ... Blur
/Unknown Gradient/MorphEx
/TextNode: No "bold" checkbox
/   default color should be green
/Scharr Properties -> Scharr Edge Properties
/fix Hough Lines
/    properties are for Gaussian Blur
/    and should be Unknown if issue deserializing
/fix canny edges --> Gaussian Blur
/grid scrolling
/   magnification/zoom
/Scharr rename to Scharr Edges when node is displayed
/    same for Laplacian
/    Canny EdgeS
/    Sobel EDGES
x Sharr -> Canny edge
